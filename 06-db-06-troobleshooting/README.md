# Домашнее задание к занятию "06-db-06-troobleshooting"

# 1. Mongodb

Определим текущую операцию командой:  
       db.currentOp()
Завершим операцию по  полученному  opid
       db.killOp()

Чтобы не было долгих запросов, необходимо постороить/перестроить соответствующий индекс

# 2. Redis
Судя  по документации, что  проблема с памятью, а  именно с ее  нехваткой.

# 3. Mysql

Исходя  из  ошибки предпологаю  что  проблема с  нехваткой ресурсов на сервере и сетевыми  проблемами.
Нужно добавить ресурсов на сервере, увеличить размер пакета max_allowed_packet, увеличить таймаут на сервере  исходя  из  имеющихся  значении. 
```
connect_timeout
net_read_timeout
wait_timeout
interactive_timeout
```
На клиенте также  увеличить таймаут connect_timeout, wait_timeout ,interactive_timeout.

# 4. Postgresql

Причина в нехватке оперативной памяти,  и ОС  убивает процессы утилизирующие память, что видно из ошибок.
Необходимо увеличить объем ОЗУ и выставить ограничение в настройках PG на использование ресурсов хоста, 
чтобы исключить потребление всех ресурсов на машине.
Или отключить  `OOM-Killer`.


