
Задача 1

>azat@nout2:~/netology$ sudo docker push azath174/netology:nginx-1.19
The push refers to repository [docker.io/azath174/netology]
4b23ad72c19c: Layer already exists 
f0f30197ccf9: Layer already exists 
eeb14ff930d4: Layer already exists 
c9732df61184: Layer already exists 
4b8db2d7f35a: Layer already exists 
431f409d4c5a: Layer already exists 
02c055ef67f5: Layer already exists 
nginx-1.19: digest: sha256:65e999e50f0f9c36fc2d4d148e1e34681cbaf84f7ab8b361cbeeec0e3acb4462 size: 1777

>azat@nout2:~/netology$ sudo docker pull azath174/netology:nginx-1.19
nginx-1.19: Pulling from azath174/netology
Digest: sha256:65e999e50f0f9c36fc2d4d148e1e34681cbaf84f7ab8b361cbeeec0e3acb4462
Status: Image is up to date for azath174/netology:nginx-1.19
docker.io/azath174/netology:nginx-1.19
azat@nout2:~/netology$ 


Задача 2

Посмотрите на сценарий ниже и ответьте на вопрос: "Подходит ли в этом сценарии использование Docker контейнеров или лучше подойдет виртуальная машина, физическая машина? Может быть возможны разные варианты?"

Детально опишите и обоснуйте свой выбор.

--

Сценарий:

    Высоконагруженное монолитное java веб-приложение;
 - физический сервер, т.к. монолитное, селдовательно в микросерверах не реализуемо без изменения кода,
   и так как высоконагруженное -  то необходим физический доступ к ресурсами, без использования гипервизора виртуалки. 

 
Nodejs веб-приложение;
 - это веб приложение, для таких приложений достаточно докера, противопоказаний для контейнерной реализации не вижу.
   и в рамках микропроцессрной архитектуры может быть хорошим решением. 
 
Мобильное приложение c версиями для Android и iOS;
 - Виртаулка -  приложение в докере не имеет GUI, следовательно лучше использовать виртуалку. 


Шина данных на базе Apache Kafka;
 - С этой вещью не работал, но я так понимаю с развориванием этой штуки потребуется много сил. Для тестиование докер подойдет и уже  есть готовые шаблоны https://towardsdatascience.com/how-to-install-apache-kafka-using-docker-the-easy-way-4ceb00817d8b. 

  
Elastic stack для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana;
 - сам Elasticsearvh лучше на виртуалку, отказоустойчивость решается на уровне кластера, 
   кибану и логсташ можно вынести в докер контейнер, или так же на виртуалках.
   существуют решения и в таком и в таком исполнении.
   использование в Докерем может дать "+" для использования в тестовом периоде с максимальным функционалом, 
   в докере можно перезаливать машину каждый месяц и получать опять полную функциональность

Мониторинг-стек на базе prometheus и grafana;
 - сами системы не хранят как таковых данны, можно развернуть на Докере,
   минусов не вижу, в + скорость развертывания, возможность масштабирования для различных задачь: 
     например у графаны есть ограничение на число обрабатываемых метрик и может понадобиться разделения под разные задачи (контуры)

Mongodb, как основное хранилище данных для java-приложения;
 - можно использовать Виртуальную машину, т.к. хранилище и  не сказано что высоконагруженное
   в Контейнере хранить БД с данными не подходит
   для физического сервера может быть через чур расточительно

Jenkins-сервер.
 - так же класический кейс для контейнерной реализации Докер, данных сам не хранит. 

Задача 3

    Запустите первый контейнер из образа centos c любым тэгом в фоновом режиме, подключив папку /data из текущей рабочей директории на хостовой машине в /data контейнера;
    Запустите второй контейнер из образа debian в фоновом режиме, подключив папку /data из текущей рабочей директории на хостовой машине в /data контейнера;
    Подключитесь к первому контейнеру с помощью docker exec и создайте текстовый файл любого содержания в /data;
    Добавьте еще один файл в папку /data на хостовой машине;
    Подключитесь во второй контейнер и отобразите листинг и содержание файлов в /data контейнера.
    
    azat@nout2:~/netology$ sudo docker  ps

>CONTAINER ID   IMAGE     COMMAND   CREATED          STATUS          PORTS     NAMES
e37d082992e3   debian    "cupsd"   10 seconds ago   Up 9 seconds              hardcore_hellman
50a9f922e329   centos    "cupsd"   22 seconds ago   Up 21 seconds             romantic_roentgen
>azat@nout2:~/netology$ sudo docker exec  e37d082992e3  ls  /data

>azat@nout2:~/netology$ sudo docker exec  e37d082992e3  touch  /data/1111

>azat@nout2:~/netology$ sudo docker exec  e37d082992e3  ls  /data
1111

>azat@nout2:~/netology$ sudo docker exec  50a9f922e329  ls  /data
1111

>azat@nout2:~/netology$ mkdir data/123

>azat@nout2:~/netology$ touch data/test2


>azat@nout2:~/netology$ sudo docker exec  50a9f922e329  ls  /data  -l
total 4
-rw-r--r-- 1 root root    0 Jan 29 16:25 1111
drwxrwxr-x 2 1000 1000 4096 Jan 29 16:26 123
-rw-rw-r-- 1 1000 1000    0 Jan 29 16:27 test2


Задача 4 (*)

Воспроизвести практическую часть лекции самостоятельно.

Соберите Docker образ с Ansible, загрузите на Docker Hub и пришлите ссылку вместе с остальными ответами к задачам.
